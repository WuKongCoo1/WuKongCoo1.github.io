# 设计思路

## 架构模式

整个项目采取MVVM的模式进行架构

ViewModel负责数据的请求与与转换

Controller负责view与viewModel之间的绑定

model负责数据的封装。

## 三方库集成：

SDWebImage	实现图片异步加载

AFNetworking	实现网络请求

MJRefresh	实现上来加载

MJExtension	json与model的快速转换

ReactiveCocoa 方便MVVM的架构实现

Masonry 布局

## 整体布局

整个控制器包含一个UITableView子视图，tableView依靠header与footer来实现下拉刷新和下拉加载。

其中TableViewHeader用于实现头部信息以及icon显示。

每一条tweet由一个cell实现，cell整体分为三个部分，左侧为发推者头衔，右侧为发推内容。其中右侧又可以分为几个部分，由上到下分别是：

```
nick name button
文字内容 labelView
图片 imageContentView
发推时间 评论点赞按钮 bottomView
点赞栏 amazingView
评论栏 commentView
```

其中固定不变的有nick name， 发推时间、评论点赞按钮，剩下的都是会根据推特内容来决定是否展示。

## 作业要求

1. 使用swift（由于对swift不够熟悉，所以采用oc）

2. 实现图像缓存（图片下载和缓存，SDWebImage都提供了的，我的想法是，我自己实现缓存功能，在调用SD以前，先从自己的缓存里面找，当找不到的时候，在通过SDWebImage来实现，同时在image回调回来是，如果我自己实现的缓存没有图片的话，那么缓存到我自己的缓存）

3. 缓存设计

   缓存包括磁盘缓存与内存缓存，根据提供的缓存策略来决定是磁盘缓存还是内存缓存。内存缓存利用NSCache来实现，磁盘缓存则使用磁盘io来实现

4. 

